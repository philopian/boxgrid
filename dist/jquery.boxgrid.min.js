/*!
 * boxgrid - jQuery Plugin
 * Version: 1.0.14
 *
 * Copyright (c) 2014 Heimspiel GmbH, http://www.hmspl.de/
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */
!function(a){"use strict";function b(a,b){var c;return function(){var d=this,e=arguments;clearTimeout(c),c=setTimeout(function(){a.apply(d,e)},b)}}function c(a,b,c,d,e,f){var g=0,h=0;if(c+e>b)return!1;for(g=0;f>g;g+=1)for(h=0;e>h;h+=1)if(a[(d+g)*b+(c+h)]===!0)return!1;return!0}function d(a,b,c,d,e,f){var g=0,h=0;for(g=0;f>g;g+=1)for(h=0;e>h;h+=1)a[(d+g)*b+(c+h)]=!0}function e(a,b,c,d,e){var f=a;return c>0&&(f=Math.max(f,Math.floor(e/c))),f=Math.floor(f/b)*b,Math.min(f,d)}function f(a,b,c,d){var e=Math.floor(a/b);return d&&(e=Math.max(c,e)),e}function g(a,b){return 0===a?b:a}function h(a,b,c){return Math.floor((a-b*c)/2)}function i(a){var b;return a.style.display="none",b=a.offsetHeight,a.style.display="",b}function j(b,j){var k=[],l=b.width(),m=e(j.minColumns,j.minColSpan,j.minColWidth,j.maxColumns,l),n=f(l,m,j.minColWidth,j.forceMinColWidth),o=g(j.rowHeight,n),p=h(l,m,n),q=0;b.children().each(function(){var b,e=a(this),f=e.data(j.dataColSpanName)||0,g=f,h=e.data(j.dataRowSpanName)||0,l=h,q=e.data(j.dataMinHeightName),r=0,s=0,t=0,u=0;for(f>m&&(f=m),"function"==typeof j.adjustColSpan&&(f=j.adjustColSpan.call(this,e,g,f,n,m)),e.css({position:"absolute"}),e.width(Math.floor(n*f)-j.adjustLeft+j.adjustRight),void 0!==q&&(b=e.find(q),b.length&&(h=Math.max(h,Math.ceil(b.height()/o)))),0===h?(i(e[0]),e.children().each(function(){r+=a(this).outerHeight()})):h!==parseInt(h,10)&&(i(e[0]),e.find(h).each(function(){r+=a(this).outerHeight()})),r>0&&(h=Math.ceil(r/o)),"function"==typeof j.adjustRowSpan&&(h=j.adjustRowSpan.call(this,e,g,f,n,l,h,o,m)),e.height(Math.floor(o*h)-j.adjustTop+j.adjustBottom),s=0;!0;s+=1)if(t=s%m,u=Math.floor(s/m),c(k,m,t,u,f,h)){d(k,m,t,u,f,h),0===u?e.addClass(j.rowFirstClass):e.removeClass(j.rowFirstClass),0===t?e.addClass(j.columnFirstClass):e.removeClass(j.columnFirstClass),t+f===m?e.addClass(j.columnLastClass):e.removeClass(j.columnLastClass),e.css({top:Math.floor(u*o+j.adjustTop+j.offsetTop),left:p+Math.floor(t*n+j.adjustLeft+j.offsetLeft)});break}}),q=Math.ceil(k.length/m),b.height(Math.max(0,q*o+j.offsetTop+j.offsetGridHeight)).addClass(j.readyClass)}function k(b,c){this.element=b,this.settings=a.extend({},l,c),this.init()}var l={minColSpan:1,minColumns:1,maxColumns:1/0,minColWidth:0,forceMinColWidth:!1,rowHeight:0,resize:!0,resizeDelay:250,readyClass:"boxgrid-ready",rowFirstClass:"boxgrid-row-first",columnFirstClass:"boxgrid-column-first",columnLastClass:"boxgrid-column-last",dataColSpanName:"colspan",dataRowSpanName:"rowspan",dataMinHeightName:"minHeight",adjustTop:0,adjustRight:0,adjustBottom:0,adjustLeft:0,offsetTop:0,offsetLeft:0,offsetGridHeight:0};a.extend(k.prototype,{init:function(){var c=this;this.settings.resize&&a(window).resize(b(function(){c.resize()},this.settings.resizeDelay)),a(document).ready(function(){c.resize()})},resize:function(){"function"==typeof this.settings.beforeResize&&this.settings.beforeResize.call(this),j(a(this.element),this.settings),"function"==typeof this.settings.afterResize&&this.settings.afterResize.call(this)}}),a.fn.boxgrid=function(b){return this.each(function(){a.data(this,"boxgrid")||a.data(this,"boxgrid",new k(this,b))}),this}}(window.jQuery);