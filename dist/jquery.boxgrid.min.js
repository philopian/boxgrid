/*!
 * boxgrid - jQuery Plugin
 * Version: 1.0.3
 *
 * Copyright (c) 2014 Heimspiel GmbH, http://www.hmspl.de/
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */
!function(a,b){"use strict";"function"==typeof define&&define.amd?define(["jquery"],b):b(a.jQuery)}(this,function(a){"use strict";function b(a,b){var c;return function(){var d=this,e=arguments;clearTimeout(c),c=setTimeout(function(){a.apply(d,e)},b)}}function c(a,b,c,d,e,f){var g=0,h=0;if(c+e>b)return!1;for(g=0;f>g;g+=1)for(h=0;e>h;h+=1)if(a[(d+g)*b+(c+h)]===!0)return!1;return!0}function d(a,b,c,d,e,f){var g=0,h=0;for(g=0;f>g;g+=1)for(h=0;e>h;h+=1)a[(d+g)*b+(c+h)]=!0}function e(b,e){var f=[],g=b.width(),h=e.minColumns,i=0,j=e.rowHeight,k=0;e.minColWidth>0&&(h=Math.max(h,Math.floor(g/e.minColWidth))),h=Math.min(h,e.maxColumns),i=Math.max(e.minColWidth,g/h),0===e.rowHeight&&(j=i),b.children().each(function(){var b,g=a(this),k=g.data(e.dataColSpanName),l=g.data(e.dataRowSpanName),m=g.data(e.dataMinHeightName),n=0,o=0,p=0;for(k>h&&(k=h),"function"==typeof e.adjustColSpan&&(k=e.adjustColSpan.call(this,k,h)),0===e.rowHeight&&(l=Math.ceil(k*l/100)),"undefined"!==m&&(b=g.find(m),b.length&&(l=Math.max(l,Math.ceil(b.height()/j)))),"function"==typeof e.adjustRowSpan&&(l=e.adjustRowSpan.call(this,l,h)),g.width(i*k),g.height(j*l),n=0;!0;n+=1)if(o=n%h,p=Math.floor(n/h),c(f,h,o,p,k,l)){d(f,h,o,p,k,l),g.css({top:p*j,left:o*i,position:"absolute"});break}}),k=Math.ceil(f.length/h),b.height(k*j).addClass(e.readyClass)}a.fn.boxgrid=function(c){var d=this,f=a.extend({minColumns:1,maxColumns:1/0,minColWidth:0,rowHeight:0,resize:!0,resizeDelay:250,readyClass:"boxgrid-ready",dataColSpanName:"colspan",dataRowSpanName:"rowspan",dataMinHeightName:"minHeight"},c),g=function(){"function"==typeof f.beforeResize&&f.beforeResize.call(d),d.each(function(){e(a(this),f)}),"function"==typeof f.afterResize&&f.afterResize.call(d)};return f.resize&&a(window).resize(b(g,f.resizeDelay)),a(document).ready(g),this}});